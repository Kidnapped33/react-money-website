{"version":3,"sources":["icons/money.svg","icons/tag.svg","icons/chart.svg","icons/right.svg","icons/left.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","view/Tags.tsx","view/money/TagsSection.tsx","components/Input.tsx","view/money/NoteSection.tsx","view/money/CategorySection.tsx","view/money/NumberPadSection/Wrapper.tsx","view/money/NumberPadSection.tsx","view/money/computedOutput/computedOutput.tsx","hooks/useRecords.tsx","view/Money.tsx","view/Statistics.tsx","view/NoMatch.tsx","view/Tag.tsx","App.tsx","index.tsx"],"names":["symbol","add","require","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","id","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useRef","useEffect","current","useTags","useState","tags","setTags","localTags","parse","length","getName","tag","filter","t","findTag","updateTag","obj","map","findTagIndex","result","i","deleteTag","addTag","tagName","prompt","Button","button","Center","Space","TagList","ol","Tags","onClick","section","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","e","target","placeholder","CategorySection","category","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","computedOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","tagIds","alert","amount","record","createTime","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","notes","Money","selected","setSelected","Header","h3","Item","Statistics","setCategory","hash","r","forEach","key","day","format","push","array","Object","entries","sort","a","b","date","reduce","span","index","NoMatch","TopBar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.586a81d5.chunk.js","sourcesContent":["import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M563 912h-97.8c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13V706.3H283.3c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13v-58.6c0-4.9 1.8-9.2 5.4-12.8 3.6-3.6 7.9-5.4 12.8-5.4h163.6v-48.3H283.3c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13v-59c0-4.9 1.8-9.2 5.4-12.8 3.6-3.6 7.9-5.4 12.8-5.4H405L222.6 139.2c-3-6.1-3-12.1 0-18.2 3.8-6.1 9.1-9.1 15.9-9.1h110.2c7.2 0 12.7 3.5 16.5 10.3l122.1 241.5c7.2 14.5 17.8 38.1 31.8 71 3.8-9.1 9.6-22 17.3-38.6 7.8-16.6 13-28.2 15.7-34.7l108.5-238.7c3-7.2 8.5-10.8 16.5-10.8h108.5c6.5 0 11.6 3 15.3 9.1 3.5 5.3 3.6 11.2.6 17.6L623.7 467.7h122.1c4.9 0 9.2 1.8 12.8 5.4s5.4 7.9 5.4 12.8v59c0 5.3-1.8 9.7-5.4 13-3.6 3.5-7.9 5.1-12.8 5.1H581.1v48.3h164.8c4.9 0 9.2 1.8 12.8 5.4 3.6 3.6 5.4 7.9 5.4 12.8V688c0 5.3-1.8 9.7-5.4 13-3.6 3.5-7.9 5.1-12.8 5.1H581.1v187.5c0 4.9-1.8 9.2-5.4 12.8-3.6 3.8-7.8 5.6-12.7 5.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1054 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1054 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M1026.765 391.99l-28.762-184.877c-12.326-69.84-73.946-131.466-143.792-143.792L669.334 34.559c-8.217 0-16.433-4.109-28.762-4.109-57.513 0-119.142 24.649-156.119 61.622L85.951 490.574c-57.513 57.513-57.513 152.007 0 209.525l275.255 275.255c28.762 28.762 65.73 45.19 106.817 45.19s78.058-16.433 106.817-45.19l398.502-398.502c45.19-53.406 65.73-115.034 53.406-184.877zm-242.388-49.299c-45.19 0-82.162-36.976-82.162-82.162s36.976-82.162 82.162-82.162 82.162 36.976 82.162 82.162c0 45.19-36.976 82.162-82.162 82.162z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M274.432 569.856v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0zm-37.888-163.84L460.8 249.344l133.12 145.408a29.184 29.184 0 007.168 5.12h4.096l9.216 9.728h10.24a28.672 28.672 0 008.192-3.584l235.52-164.352a29.696 29.696 0 00-34.304-51.2l-217.6 153.6-128.512-153.6a29.696 29.696 0 00-38.4-4.096 28.672 28.672 0 00-7.68 3.072L204.8 358.4a29.696 29.696 0 0034.304 51.2zm201.728 48.64v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm326.144 0v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm-162.304 115.2v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0z\\\" /><path d=\\\"M930.304 841.216H137.728v-632.32a29.696 29.696 0 10-59.904 0V870.4a30.208 30.208 0 0029.696 29.696h822.784a29.696 29.696 0 000-59.904z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M730.478 487.658L342.023 99.335c-13.39-13.412-35.106-13.412-48.518 0-13.392 13.368-13.392 35.083 0 48.474l364.32 364.197-364.32 364.196c-13.392 13.39-13.392 35.104 0 48.495 13.412 13.369 35.127 13.369 48.518 0l388.454-388.343c6.732-6.72 10.083-15.54 10.056-24.348.027-8.81-3.323-17.628-10.055-24.348z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M376.158 513.757l1.106-1.106-1.106-1.126L765.033 122.66l-58.612-58.586-447.452 447.452 1.106 1.126-1.106 1.106L706.42 961.199l58.594-58.595z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n\r\nrequire('icons/money.svg');\r\nrequire('icons/tag.svg');\r\nrequire('icons/chart.svg');\r\nrequire('icons/right.svg');\r\nrequire('icons/left.svg');\r\n\r\n//还可以优化为引入一个目录，而不需要引入单个svg\r\n\r\ntype Props = {\r\n    name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n    const {name, children, className, ...rest} = props;\r\n    return (\r\n        // ...rest className会覆盖之前的 icon\r\n        <svg className={cs('icon', className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#' + props.name}/>}\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Icon;","import styled from 'styled-components';\nimport {NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\n\nconst NavWrapper = styled.nav`\nbackground-color: #fff;\nline-height: 24px;\nbox-shadow: 0 0 3px rgba(0,0,0,0.25);\n >ul {\n   display: flex;\n     >li{\n      width: 33.3333%;\n       text-align: center;\n       >a{\n       display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n          .icon{\n             width: 24px;\n             height: 24px;\n     }\n     &.selected{\n     color: red;\n      .icon{\n          fill:red;\n      }\n     }\n    }\n  }\n}\n`;\n\nconst Nav = () => {\n    return (\n        <NavWrapper>\n            <ul>\n                <li>\n                    <NavLink to=\"tags\" activeClassName=\"selected\">\n                        <Icon name='tag'/>\n                        标签页\n                    </NavLink>\n                </li>\n                <li>\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\n                        <Icon name={'money'}/>\n                        记账页\n                    </NavLink>\n                </li>\n                <li>\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\n                        <Icon name={'chart'}/>\n                        统计页\n                    </NavLink>\n                </li>\n            </ul>\n        </NavWrapper>\n    );\n};\n\nexport default Nav;","import Nav from './Nav';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nheight: 100vh;\r\n`;\r\n\r\nconst Main = styled.div`\r\nflex-grow: 1;\r\noverflow: auto;\r\n`;\r\n\r\nconst Layout = (props: any) => {\r\n    return (\r\n        <Wrapper>\r\n            <Main className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav/>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Layout;","//函数封装法\r\n\r\nlet id = parseInt(window.localStorage.getItem('idValue') || '0');\r\nconst createId = () => {\r\n    id += 1;\r\n    window.localStorage.setItem('idValue', JSON.stringify(id));\r\n    return id;\r\n};\r\n\r\nexport {createId};\r\n\r\n//class 封装法\r\n\r\n// let id = 0\r\n// class Id {\r\n//     value:number;\r\n//     constructor(props) {\r\n//         super(props);\r\n//         let id +=1\r\n//         this.value = id\r\n//     }\r\n// }\r\n// export {Id};\r\n\r\n//使用 （new Id）.value","import {useEffect, useRef} from 'react';\r\n\r\n\r\n//此hooks为去除第一次更新\r\nconst useUpdate = (fn: () => void, dependency: any[]) => {\r\n    const count = useRef(0);\r\n    useEffect(() => {count.current += 1; });\r\n    useEffect(() => {\r\n        if (count.current > 1) {fn();}\r\n    }, [fn, dependency]);//不可变数据\r\n};\r\n\r\nexport {useUpdate};\r\n\r\n","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n\r\nconst useTags = () => {\r\n    const [tags, setTags] = useState<{ id: number, name: string }[]>(([]));\r\n    useEffect(() => {\r\n        let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n        if (localTags.length === 0) {\r\n            localTags = [\r\n                {id: createId(), name: '衣'},\r\n                {id: createId(), name: '食'},\r\n                {id: createId(), name: '住'},\r\n                {id: createId(), name: '行'},\r\n            ];\r\n        }\r\n        setTags(localTags);\r\n    }, []);\r\n\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('tags', JSON.stringify(tags));\r\n    }, tags);\r\n\r\n\r\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n    const findTagIndex = (id: number) => {\r\n        let result = -1;\r\n        for (let i = 0; i < tags.length; i++) {\r\n            if (tags[i].id === id) {\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    const updateTag = (id: number, obj: { name: string }) => {\r\n        setTags(tags.map(tag => tag.id === id ? {id, name: obj.name} : tag));\r\n        // //获取你要改的下标 index\r\n        // const index = findTagIndex(id);\r\n        // //深拷贝 tags 得到 tagsClone\r\n        // const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        // //把 tagsClone 的第 index 换成 {id:id,name:obj.name}\r\n        // tagsClone.splice(index, 1, {id: id, name: obj.name});\r\n        // setTags(tagsClone);\r\n    };\r\n\r\n    const deleteTag = (id: number) => {\r\n        setTags(tags.filter(tag => tag.id !== id));\r\n        // //获取你要删的下标 index\r\n        // const index = findTagIndex(id);\r\n        // const tagsClone = JSON.parse(JSON.stringify(tags));\r\n        // //把 tagsClone 的第 index 删除\r\n        // tagsClone.splice(index, 1);\r\n        // setTags(tagsClone);\r\n    };\r\n\r\n    const addTag = () => {\r\n        const tagName = window.prompt('新增标签');\r\n        if (tagName !== null && tagName !== '') {\r\n            setTags([...tags, {id: createId(), name: tagName}]);\r\n        }\r\n    };\r\n\r\n    const getName = (id: number) => {\r\n        const tag = tags.filter(t => t.id === id)[0];\r\n        return tag ? tag.name : '';\r\n    };\r\n\r\n    return {tags, getName, setTags, findTag, updateTag, findTagIndex, deleteTag, addTag};\r\n};\r\n\r\n\r\nexport {useTags};\r\n\r\n\r\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px; border: none; padding: 8px 12px;\r\n  background: #f60; border-radius: 4px;\r\n  color: white;\r\n`;\r\nexport {Button};","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nexport {Center};","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`   height: 16px; `;\r\n\r\nexport {Space};","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from '../components/Button';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px; \r\n  background:white;\r\n  > li{\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin: 0 16px;\r\n    > a{\r\n     padding: 12px 0 12px 0;\r\n    display:flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nfunction Tags() {\r\n    const {tags, addTag} = useTags();\r\n    return (\r\n        <Layout>\r\n            <TagList>\r\n                {tags.map(tag =>\r\n                    <li key={tag.id}>\r\n                        <Link to={'/tags/' + tag.id}>\r\n                            <span className=\"oneLine\">{tag.name}</span>\r\n                            <Icon name=\"right\"/>\r\n                        </Link>\r\n                    </li>\r\n                )}\r\n            </TagList>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={() => addTag()}>新增标签</Button>\r\n            </Center>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Tags;","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\n\r\nconst Wrapper = styled.section`\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  //justify-content: flex-end;\r\n  align-items: flex-start;\r\n  background: #FFFFFF;\r\n  padding: 12px 16px;\r\n  flex-shrink: 1;\r\n  overflow:auto;\r\n\r\n    > ol{ padding: 0 -12px;\r\n      > li{background: #D9D9D9;\r\n          border-radius: 18px;\r\n          display: inline-block;\r\n          padding: 3px 18px;\r\n          font-size: 14px;\r\n          margin: 8px 12px;\r\n          &.selected{\r\n          background-color: #f60;\r\n          }\r\n        }\r\n      }\r\n      > button {\r\n      background: none;\r\n      border: none;\r\n      padding: 2px 4px;\r\n      border-bottom: 1px solid #333;\r\n      color: #666;\r\n      margin: 8px;\r\n      }\r\n`;\r\n\r\ntype Props = {\r\n    value: number[]\r\n    onChange: (selected: number[]) => void\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n        const {tags, addTag} = useTags();\r\n        const selectedTagIds = props.value;\r\n        //const [selectedTagIds, setSelectedTag] = useState<string[]>([]);\r\n\r\n        const onToggleTag = (tagId: number) => {\r\n            if (selectedTagIds.indexOf(tagId) >= 0) {\r\n                props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n            } else {\r\n                props.onChange([tagId]);\r\n            }\r\n        };\r\n        const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\n        return (\r\n            <Wrapper>\r\n                <button onClick={addTag}>新增标签</button>\r\n                <ol>\r\n                    {tags.map(tag =>\r\n                        <li key={tag.id}\r\n                            onClick={() => {onToggleTag(tag.id);}}\r\n                            className={getClass(tag.id)}>{tag.name}\r\n                        </li>)}\r\n                </ol>\r\n            </Wrapper>\r\n        );\r\n    }\r\n;\r\n\r\nexport {TagsSection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    > span {margin-right: 16px; white-space: nowrap;}\r\n     > input {\r\n        background: none;\r\n        border: none;\r\n        display: block;\r\n        width: 100%;\r\n        height: 44px;\r\n      }\r\n`;\r\ntype Props = {\r\n    label: string\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\nconst Input: React.FC<Props> = (props) => {\r\n    //...rest 指 input 自带的所有属性，就不一个个写了,要排除 children 和 自定义 label\r\n    const {label, children, ...rest} = props;\r\n    return (\r\n        <Label>\r\n            <span>{label}</span>\r\n            <input {...rest}/>\r\n        </Label>\r\n    );\r\n};\r\n\r\nexport {Input};\r\n\r\n\r\n","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\nbackground-color: #f5f5f5;\r\npadding: 14px 16px;\r\nfont-size: 14px;\r\n`;\r\n\r\ntype Props = {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n}\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n    //const [note, setNote] = useState<string>('');\r\n    const note = props.value;\r\n    // const refInput = useRef<HTMLInputElement>(null);\r\n    const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n        props.onChange(e.target.value);\r\n    };\r\n    return (\r\n        <Wrapper>\r\n            <Input label={'备注'} type={'text'} value={note} onChange={onChange} placeholder=\"在这里输入备注\">\r\n            </Input>\r\n        </Wrapper>\r\n    );\r\n};\r\nexport {NoteSection};","import styled from 'styled-components';\r\nimport React from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n    > ul {\r\n      display: flex;\r\n      > li {\r\n        width: 50%;\r\n        text-align: center;\r\n        padding: 16px 0;\r\n        position: relative;\r\n          &.selected::after{\r\n           content: '';\r\n           display: block;\r\n           height: 3px;\r\n           width: 100%;\r\n           background-color: #333;\r\n           position: absolute;\r\n           left: 0;\r\n           bottom: 0;\r\n            }\r\n      }\r\n    }\r\n`;\r\ntype Props = {\r\n    value: '-' | '+';\r\n    onChange: (value: '-' | '+') => void;\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n    //const [category, setCategory] = useState('-');\r\n    const category = props.value;\r\n    return (\r\n        <Wrapper>\r\n            <ul>\r\n                <li className={category === '-' ? 'selected' : ''}\r\n                    onClick={() => {props.onChange('-');}}\r\n                >支出\r\n                </li>\r\n                <li className={category === '+' ? 'selected' : ''}\r\n                    onClick={() => {props.onChange('+');}}\r\n                >收入\r\n                </li>\r\n            </ul>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport {CategorySection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n    > .output {\r\n    background-color: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                inset  0 5px 5px -5px rgba(0,0,0,0.25);\r\n    }\r\n    > .pad {\r\n      > button{font-size: 18px;float: left;width: 25%;height: 64px;border: none;\r\n        &.ok{height: 128px;float: right;} \r\n        &.zero{width: 50%;} \r\n        &:nth-child(1){\r\n        background-color: #F2F2F2;\r\n        }\r\n         &:nth-child(2),\r\n         &:nth-child(5){\r\n        background-color: #E0E0E0;\r\n        }\r\n         &:nth-child(3),\r\n         &:nth-child(6),\r\n         &:nth-child(9){\r\n        background-color: #D3D3D3;\r\n        }\r\n        &:nth-child(4),\r\n         &:nth-child(7),\r\n         &:nth-child(10){\r\n        background-color: #C1C1C1;\r\n        }\r\n         &:nth-child(8),\r\n         &:nth-child(11),\r\n         &:nth-child(13){\r\n        background-color: #B8B8B8;\r\n        }\r\n         &:nth-child(12){\r\n        background-color: #9A9A9A;\r\n        }\r\n         &:nth-child(14){\r\n        background-color: #A9A9A9;\r\n        }\r\n        \r\n      }\r\n      \r\n      @media (max-height: 570px){ //iphone5\r\n      >button{\r\n        height: 40px;\r\n        &.ok{\r\n          height: 80px;\r\n        }\r\n      \r\n      }\r\n      }\r\n    }\r\n`;\r\n\r\nexport {Wrapper};","import {Wrapper} from './NumberPadSection/Wrapper';\nimport {computedOutput} from './computedOutput/computedOutput';\nimport {useState} from 'react';\n\ntype Props = {\n    value: number\n    onChange: (value: number) => void\n    onOk?: () => void\n}\n\nconst NumberPadSection: React.FC<Props> = (props) => {\n    // const output = props.value;\n    const [output, _setOutput] = useState(props.value.toString());\n    const setOutput = (output: string) => {\n        let newOutput: string;\n        if (output.length > 16) {\n            newOutput = output.slice(0, 16);\n        } else if (output.length === 0) {\n            newOutput = '0';\n        } else {\n            newOutput = output;\n        }\n        _setOutput(newOutput);\n        props.onChange(parseFloat(newOutput));\n\n    };\n    const onClickButtonWrapper = (e: React.MouseEvent) => {\n        const text = (e.target as HTMLButtonElement).textContent;\n        if (text === null) {return;}\n        if (text === 'ok') {\n            if (props.onOk) { props.onOk();}\n            return;\n        }\n        if ('01234567890.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n            // @ts-ignore\n            setOutput(computedOutput(text, output));\n        }\n    };\n    return (\n        <Wrapper>\n            <div className=\"output\">{output}</div>\n            <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n                <button>1</button>\n                <button>2</button>\n                <button>3</button>\n                <button>删除</button>\n                <button>4</button>\n                <button>5</button>\n                <button>6</button>\n                <button>清空</button>\n                <button>7</button>\n                <button>8</button>\n                <button>9</button>\n                <button className={'ok'}>ok</button>\n                <button className={'zero'}>0</button>\n                <button>.</button>\n            </div>\n        </Wrapper>\n    );\n};\n\nexport {NumberPadSection};","const computedOutput = (text: string, output = '0') => {\r\n    switch (text) {\r\n        case'0':\r\n        case'1':\r\n        case'2':\r\n        case'3':\r\n        case'4':\r\n        case'5':\r\n        case'6':\r\n        case'7':\r\n        case'8':\r\n        case'9':\r\n            if (output === '0') {\r\n                return text;\r\n            } else {\r\n                return output + text;\r\n            }\r\n        case '.':\r\n            if (output.indexOf('.') >= 0) {return output;}\r\n            return output + '.';\r\n        case '删除':\r\n            if (output.length === 1) {\r\n                return '';\r\n            } else {\r\n                return output.slice(0, -1) || '';\r\n            }\r\n        case '清空':\r\n            return '';\r\n        default:\r\n            return '';\r\n    }\r\n};\r\n\r\n\r\nexport {computedOutput};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport  type RecordItem = {\r\n    tagIds: number[],\r\n    notes: string,\r\n    category: '-' | '+',\r\n    amount: number,\r\n    createTime: string\r\n}\r\n//新的类型，Omit忽略期中哪个类型\r\ntype newRecordItem = Omit<RecordItem, 'createTime'>\r\n\r\nconst useRecords = () => {\r\n    const [records, setRecords] = useState<RecordItem[]>([]);\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('records', JSON.stringify(records));\r\n    }, records);\r\n    useEffect(() => {\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n    }, []);\r\n\r\n    const addRecord = (newRecord: newRecordItem) => {\r\n        if (newRecord.tagIds.length === 0) {\r\n            alert('请选择标签');\r\n            return false;\r\n        } else if (newRecord.amount <= 0) {\r\n            alert('多少钱呢？');\r\n            return false;\r\n        } else {\r\n            const record = {...newRecord, createTime: (new Date()).toISOString()};\r\n            setRecords([...records, record]);\r\n            return true;\r\n        }\r\n    };\r\n\r\n    return {records, addRecord};\r\n};\r\n\r\nexport {useRecords};","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {TagsSection} from './money/TagsSection';\nimport {NoteSection} from './money/NoteSection';\nimport {CategorySection} from './money/CategorySection';\nimport {NumberPadSection} from './money/NumberPadSection';\nimport {useRecords} from '../hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n  > .category{\n  background-color: #c4c4c4;\n  }\n`;\nconst CategoryWrapper = styled.div`\n background-color: #c4c4c4;\n`;\ntype Category = '-' | '+';\nconst defaultFormData = {\n    tagIds: [] as number[],\n    notes: '',\n    category: '-' as Category,\n    amount: 0\n};\n\nfunction Money() {\n    //4个组件通信\n    const [selected, setSelected] = useState(defaultFormData);\n    const {addRecord} = useRecords();\n    const onChange = (obj: Partial<typeof selected>) => {\n        setSelected({\n            ...selected,\n            ...obj\n        });\n    };\n\n    const submitData = () => {\n        if (addRecord(selected)) {\n            alert('保存成功');\n            setSelected(defaultFormData);\n        }\n    };\n\n    return (\n        <MyLayout>\n            <TagsSection value={selected.tagIds}\n                         onChange={tagIds => onChange({tagIds})}/>\n            <NoteSection value={selected.notes}\n                         onChange={notes => onChange({notes})}/>\n            <CategoryWrapper>\n                <CategorySection value={selected.category}\n                                 onChange={category => onChange({category})}/>\n            </CategoryWrapper>\n            < NumberPadSection value={selected.amount}\n                               onChange={amount => onChange({amount})}\n                               onOk={submitData}\n            />\n        </MyLayout>\n    );\n}\n\nexport default Money;\n","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from './money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n background-color: white;\r\n`;\r\nconst Header = styled.h3`\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\n`;\r\nconst Item = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nbackground-color:white;\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\n> .note{\r\nmargin-right: auto;\r\nmargin-left: 16px;\r\ncolor: #999;\r\n}\r\n`;\r\n\r\nfunction Statistics() {\r\n    const [category, setCategory] = useState<'-' | '+'>('-');\r\n    const {records} = useRecords();\r\n    const {getName} = useTags();\r\n    const hash: { [K: string]: RecordItem[] } = {};\r\n    const selectedRecords = records.filter(r => r.category === category);\r\n    selectedRecords.forEach(r => {\r\n        const key = day(r.createTime).format('YYYY-MM-DD');\r\n        const value = r;\r\n        // key 不在 hash 里面，就先创建空数组，然后 push 进去\r\n        if (!(key in hash)) {\r\n            hash[key] = []; //变成数组才能push\r\n        }\r\n        hash[key].push(value);\r\n    });\r\n\r\n    const array = Object.entries(hash).sort((a, b) => {\r\n            if (a[0] === b[0]) return 0;\r\n            if (a[0] < b[0]) return -1;\r\n            if (a[0] > b[0]) return 1;\r\n            return 0;\r\n        }\r\n    );\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <CategoryWrapper>\r\n                <CategorySection value={category}\r\n                                 onChange={value => setCategory(value)}/>\r\n            </CategoryWrapper>\r\n            {array.map(([date, records]) =>\r\n                <div>\r\n                    <Header>{date} </Header>\r\n                    <div>\r\n                        {records.map(r => {\r\n                            return <Item>\r\n                                <div className=\"tags oneLine\">\r\n                                    {r.tagIds\r\n                                        .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                                        .reduce((result, span, index, array) =>\r\n                                            result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[])\r\n                                    }\r\n\r\n                                </div>\r\n                                {r.notes && <div className=\"note\">\r\n                                    {r.notes}\r\n                                </div>}\r\n                                <div className=\"amount\">\r\n                                    ￥{r.amount}\r\n                                </div>\r\n                            </Item>;\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Statistics;\r\n;\r\n;","import Layout from '../components/Layout';\r\nimport React from 'react';\r\n\r\nfunction NoMatch() {\r\n    return (\r\n        <Layout>\r\n            <h2>404页面</h2>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default NoMatch;","import React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {useParams, useHistory} from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\n\r\nconst TopBar = styled.header`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nline-height: 20px;\r\npadding: 14px;\r\nbackground-color: white;\r\nmargin: 0 0 8px 0;\r\n`;\r\nconst InputWrapper = styled.div`\r\nbackground-color: white;\r\npadding: 0 16px;\r\nfont-size: 14px;\r\n`;\r\n\r\ntype Params = { id: string }\r\nconst Tag: React.FC = () => {\r\n    const {findTag, updateTag, deleteTag} = useTags();\r\n    let {id: idString} = useParams<Params>();\r\n    const tag = findTag(parseInt(idString));\r\n\r\n    const history = useHistory();\r\n    const onClickBack = () => {\r\n        history.goBack();\r\n    };\r\n    return (\r\n        <Layout>\r\n            <TopBar>\r\n                <Icon name=\"left\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon/>\r\n            </TopBar>\r\n            {tag ? <div>\r\n                <InputWrapper>\r\n                    <Input label={'标签名'} type={'text'} value={tag.name}\r\n                           onChange={(e) => {\r\n                               updateTag(tag.id, {name: e.target.value});\r\n                           }\r\n                           }/>\r\n                </InputWrapper>\r\n                <Center>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Button onClick={() => {deleteTag(tag.id);}}>删除标签</Button>\r\n                </Center>\r\n            </div> : <div>tag 不存在</div>}\r\n\r\n        </Layout>\r\n    )\r\n        ;\r\n};\r\n\r\nexport {Tag};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Tags from './view/Tags';\nimport Money from './view/Money';\nimport Statistics from './view/Statistics';\nimport NoMatch from './view/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './view/Tag';\n\nconst AppWrapper = styled.div`\ncolor: #333;\n`;\n\nfunction App() {\n    return (\n        <AppWrapper>\n            <Router>\n                <Switch>\n\n                    <Route exact path=\"/tags\">\n                        <Tags/>\n                    </Route>\n                    <Route exact path=\"/tags/:id\">\n                        <Tag/>\n                    </Route>\n                    <Route path=\"/money\">\n                        <Money/>\n                    </Route>\n                    <Route path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    <Redirect exact from=\"/\" to=\"/money\"/>\n                    <Route path=\"*\">\n                        <NoMatch/>\n                    </Route>\n                </Switch>\n            </Router>\n        </AppWrapper>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(<App/>,\n    document.getElementById('root')\n)\n;"],"sourceRoot":""}